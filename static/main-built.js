define("event/manager",[],function(){var e={};return{trigger:function(t){console.log("trigger and event handle "+t),e[t]&&e[t].map(function(e){e()})},register:function(t,a){e[t]||(e[t]=[]),e[t].push(a)},unregister:function(t,a){if(e[t]){var n=e[t].indexOf(a);n>-1&&array.splice(n,1)}},clear:function(t){e[t]&&(e[t]=[])}}}),define("comp/menu",["event/manager"],function(e){var t=React.createClass({displayName:"MenuItem",render:function(){return React.createElement("li",{role:"presentation"},React.createElement("a",{role:"menuitem",className:"menu_item",href:"#",onClick:this.handleClick},this.props.name))},handleClick:function(){e.trigger("MenuEvent_"+this.props.name)}});return React.createClass({displayName:"Menu",render:function(){var e=this.props.items;return e.length>0?React.createElement("li",{className:"dropdown"},React.createElement("a",{className:"dropdown-toggle","data-toggle":"dropdown"},this.props.name,React.createElement("span",{className:"caret"})),React.createElement("ul",{className:"dropdown-menu",role:"menu","aria-labelledby":"dropdownMenu"},e.map(function(e){return React.createElement(t,{name:e})}))):React.createElement("li",null,React.createElement("a",{href:"#",onClick:this.handleClick},this.props.name))},handleClick:function(){e.trigger("MenuEvent_"+this.props.name)}})}),define("comp/menubar",["comp/menu"],function(e){return React.createClass({displayName:"MenuBar",render:function(){var t=this.props.data;return React.createElement("ul",{className:"nav navbar-nav"},t.map(function(t){return React.createElement(e,{name:t.name,key:t.id,items:t.items})}))}})}),define("comp/mainview",[],function(){return React.createClass({displayName:"Main",render:function(){return React.createElement("div",null,React.createElement("img",{src:"resources/main.png"}))}})}),define("comp/aboutview",[],function(){return React.createClass({displayName:"About",render:function(){return React.createElement("div",null,"This is the about page!")}})}),define("comp/common/collapse",[],function(){return React.createClass({displayName:"CollapsePanel",render:function(){var e="#"+this.props.id,t="heading_"+this.props.id;return React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading",role:"tab",id:t},React.createElement("h4",{className:"panel-title"},React.createElement("a",{role:"button","data-toggle":"collapse","data-parent":"#accordion",href:e,"aria-expanded":"true","aria-controls":this.props.id},this.props.title))),React.createElement("div",{id:this.props.id,className:"panel-collapse collapse",role:"tabpanel","aria-labelledby":t},React.createElement("div",{className:"panel-body"},this.props.children)))}})}),define("comp/common/panel",[],function(){return React.createClass({displayName:"Panel",render:function(){var e={};return e.overflow="auto",React.createElement("div",{className:"panel panel-default"},React.createElement("div",{className:"panel-heading"},React.createElement("h3",{className:"panel-title"},this.props.title)),React.createElement("div",{className:"panel-body",id:this.props.id,style:e},this.props.children))}})}),define("comp/dataselection",[],function(){return React.createClass({displayName:"DataSelectionPanel",render:function(){return React.createElement("select",{className:"input-medium",id:"selectDataSource"})},componentDidMount:function(){var e=this.props.handleSelection;$.get("/csvdata",function(t){var a=$.parseJSON(t),n=$("#selectDataSource");n.select2({data:a,tags:"true",width:"256px",placeholder:"Select a data source",allowClear:!0}),n.val(null).trigger("change"),n.change(function(){console.log("New Data Source selected : "+$(this).val()),e($(this).val())})})}})}),define("comp/dataview",["comp/common/collapse","comp/common/panel","comp/dataselection"],function(e,t,a){var n=React.createClass({displayName:"DataUploadPanel",render:function(){return React.createElement("div",null,React.createElement("form",{role:"form",method:"post",encType:"multipart/form-data",onSubmit:this.trackFormSubmission},React.createElement("div",{className:"form-group"},React.createElement("input",{id:"input-id",type:"file",name:"file"}))))},componentDidMount:function(){$("#input-id").fileinput({showPreview:!0,uploadUrl:"/csvdata",allowedFileExtensions:["csv"]})}}),i=function(e){null!==e?r(e):$("#dataTablePanel").empty()},r=function(e){var t={};$.get("/data/"+e,t,function(e){var t=e.csv,e=Papa.parse(t);console.log(e),$("#DataTablePanel").empty(),ReactDOM.render(React.createElement(o,{data:e.data}),document.getElementById("dataTablePanel")),$("#dataTable").DataTable()})},l=React.createClass({displayName:"DataTablePanel",render:function(){return React.createElement(t,{id:"dataTablePanel",title:"Data View"})},componentDidMount:function(){}}),c=React.createClass({displayName:"DataRow",render:function(){var e=this.props.data;return React.createElement("tr",null,e.map(function(e){return React.createElement("td",null,e)}))}}),o=React.createClass({displayName:"DataTable",render:function(){var e=this.props.data,t=e[0];return e.splice(0,1),React.createElement("table",{id:"dataTable",className:"table"},React.createElement("thead",null,React.createElement("tr",null,t.map(function(e){return React.createElement("th",null,e)}))),React.createElement("tbody",null,e.map(function(e){return React.createElement(c,{data:e})})))},componentDidMount:function(){}});return React.createClass({displayName:"DataPage",render:function(){return React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"},React.createElement(e,{title:"Select Data",id:"SelectDataCollapse"},React.createElement(a,{headerOnly:"true",handleSelection:i})),React.createElement(e,{title:"Add Data",id:"DataUploadCollapse"},React.createElement(n,null)))),React.createElement("div",{className:"col-md-8"},React.createElement(l,null)))},componentDidMount:function(){$("#SelectDataCollapse").collapse("show")}})}),define("data/model",[],function(){var e=function(e){this._data=e.slice(0),this._header=this._data.splice(0,1)[0]};return e.prototype.getSerialsByCol=function(e,t){var a=this._header.indexOf(e),n=[];return a>=0&&this._data.map(function(e){var i=e[a];t&&(i=parseFloat(i)),n.push(i)}),n},e.prototype.getUniqueValuesByCol=function(e){var t=this._header.indexOf(e),a=[];return t>=0&&this._data.map(function(e){var n=e[t];a.indexOf(n)<0&&a.push(n)}),a},e.prototype.getSerialsByFilter=function(e,t,a,n){var i=this._header,r=i.indexOf(e),l=[];a.map(function(e){var t=i.indexOf(e);l.push(t)});var c=[];return r>=0&&this._data.map(function(e){if(e[r]==t){var a=[];l.map(function(t){var i=e[t];n&&(i=parseFloat(i)),a.push(i)}),c.push(a)}}),c},e}),define("viz/xc1ymn",["data/model"],function(e){var t=function(){this.option={xAxis:[{type:"category",data:[]}],yAxis:[{type:"value"}],series:[],legend:{data:[]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar","stack","tiled"]},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis"}},this.meta={name:"xc1ymn",chartName:"none",binding:[{name:"x",type:"Category",maxFeed:1},{name:"y",type:"Measure",maxFeed:10}]}};return t.prototype.buildOption=function(t,a){if(a.x&&a.y){var n=$.extend(!0,{},this.option),i=new e(t),r=i.getSerialsByCol(a.x,!1);n.xAxis[0].data=r,n.legend.data=a.y;var l=this;return a.y.map(function(e){var t=i.getSerialsByCol(e,!0),a={};a.name=e,a.type=l.meta.chartName,a.data=t,l.appendOption(a),n.series.push(a)}),n}},t.prototype.appendOption=function(e){},t}),define("viz/line",["viz/xc1ymn"],function(e){var t=new e;return t.meta.name="line",t.meta.chartName="line",t}),define("viz/bar",["viz/xc1ymn"],function(e){var t=new e;return t.meta.name="bar",t.meta.chartName="bar",t}),define("viz/area",["viz/xc1ymn"],function(e){var t=new e;return t.meta.name="area",t.meta.chartName="line",t.appendOption=function(e){e.itemStyle={normal:{areaStyle:{type:"default"}}}},t}),define("viz/c1m1",["data/model"],function(e){var t=function(){this.option={series:[],tooltip:{trigger:"item"},legend:{orient:"vertical",x:"left",data:[]}},this.meta={name:"c1m1",chartName:"none",binding:[{name:"Category",type:"Category",maxFeed:1},{name:"Measure",type:"Measure",maxFeed:1}]}};return t.prototype.buildOption=function(t,a){if(a.Category&&a.Measure){var n=$.extend(!0,{},this.option),i=new e(t),r=i.getSerialsByCol(a.Category,!1);n.legend.data=r;var l=i.getSerialsByCol(a.Measure,!0),c={};c.name=a.Measure,c.type=this.meta.chartName;for(var o=0,s=r.length,d=[];o<s;o++){var m={};m.name=r[o],m.value=l[o],d.push(m)}return c.data=d,this.appendOption(c),n.series.push(c),n}},t.prototype.appendOption=function(e){},t}),define("viz/pie",["viz/c1m1"],function(e){var t=new e;return t.option.toolbox={show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["pie","funnel"],option:{funnel:{x:"25%",width:"50%",funnelAlign:"left",max:1548}}},restore:{show:!0},saveAsImage:{show:!0}}},t.meta.name="pie",t.meta.chartName="pie",t.appendOption=function(e){e.radius="55%",e.center=["50%","60%"]},t}),define("viz/xm1ym1cc1",["data/model"],function(e){var t=function(){this.option={xAxis:[{type:"value",scale:!0}],yAxis:[{type:"value",scale:!0}],series:[],legend:{data:[]},toolbox:{show:!0,feature:{dataZoom:{show:!0},dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},tooltip:{trigger:"axis",showDelay:0,axisPointer:{show:!0,type:"cross",lineStyle:{type:"dashed",width:1}}}},this.meta={name:"xm1ym1cc1",chartName:"none",binding:[{name:"x",type:"Measure",maxFeed:1},{name:"y",type:"Measure",maxFeed:1},{name:"color",type:"Category",maxFeed:1}]}};return t.prototype.buildOption=function(t,a){if(a.x&&a.y&&a.color){var n=$.extend(!0,{},this.option),i=new e(t),r=i.getUniqueValuesByCol(a.color);n.legend.data=r;var l=this;return r.map(function(e){var t={};t.name=e,t.type=l.meta.chartName,t.data=i.getSerialsByFilter(a.color,e,[a.x,a.y],!0),n.series.push(t)}),n}},t.prototype.appendOption=function(e){},t}),define("viz/scatter",["viz/xm1ym1cc1"],function(e){var t=new e;return t.meta.name="scatter",t.meta.chartName="scatter",t}),define("viz/treemap",["viz/c1m1"],function(e){var t=new e;return t.meta.name="treemap",t.meta.chartName="treemap",t.option.toolbox={show:!0,feature:{dataView:{show:!0,readOnly:!1},restore:{show:!0},saveAsImage:{show:!0}}},t.appendOption=function(e){e.itemStyle={normal:{label:{show:!0,formatter:"{b}"},borderWidth:1},emphasis:{label:{show:!0}}}},t}),define("viz/manager",["viz/line","viz/bar","viz/area","viz/pie","viz/scatter","viz/treemap"],function(e,t,a,n,i,r){var l=[e.meta,t.meta,a.meta,n.meta,i.meta,r.meta],c={};c.getVizTypes=function(){var e=[];return l.map(function(t){e.push(t.name)}),e},c.getVizBinding=function(e){var t=c.getVizMeta(e);if(t)return t.binding},c.getVizMeta=function(e){for(var t=0,a=l.length;t<a;t++)if(l[t].name===e)return l[t]};var o=function(l){return"line"===l?e:"bar"===l?t:"area"===l?a:"pie"===l?n:"scatter"===l?i:"treemap"===l?r:void 0};return c.buildOption=function(e,t,a){if(e&&t&&a){var n=o(a);return n?n.buildOption(e,t):void 0}},c}),define("comp/vizselection",["viz/manager"],function(e){return React.createClass({displayName:"VizSelectionPanel",render:function(){return React.createElement("select",{className:"input-medium",id:"selectVizType"})},componentDidMount:function(){var t=this.props.handleSelection,a=$("#selectVizType"),n=e.getVizTypes();a.select2({data:n,tags:"true",width:"256px",placeholder:"Select a visualization type",allowClear:!0}),a.val(null).trigger("change"),a.change(function(){console.log("New Viz Type selected : "+$(this).val()),t($(this).val())})}})}),define("comp/bindingselection",[],function(){return React.createClass({displayName:"BindingSelection",render:function(){return this.props.isMultiple?React.createElement("select",{className:"input-medium",ref:"selectType",multiple:"multiple"}):React.createElement("select",{className:"input-medium",ref:"selectType"})},componentDidMount:function(){var e=this.props.value,t=this.props.handleSelection,a=$(this.refs.selectType),n=this.props.name;a.select2({data:e,tags:"true",width:"256px",placeholder:n,allowClear:!0}),a.val(null).trigger("change"),a.change(function(){var e={};e[n]=$(this).val(),t(e)})}})}),define("comp/bindingpanel",["comp/bindingselection"],function(e){var t={};return React.createClass({displayName:"BindingPanel",render:function(){var t=this.props.bindings,a=this.props.values,n=this.handleSelect;return React.createElement("form",null,t.map(function(t){return React.createElement("div",{className:"form-group"},React.createElement("label",null,t.name," (",t.type,") : "),React.createElement(e,{name:t.name,value:a,handleSelection:n,isMultiple:t.maxFeed>1}))}))},componentDidMount:function(){},handleSelect:function(e){for(var a in e)t[a]=e[a];this.props.handleBinding(t)}})}),define("comp/vizview",["comp/common/collapse","comp/common/panel","comp/dataselection","comp/vizselection","comp/bindingpanel","viz/manager"],function(e,t,a,n,i,r){var l=void 0,c=void 0,o=void 0,s=function(e){null!==e?m(e):l=void 0},d=function(e){var t=void 0;null!==e?(c=e,t=r.getVizBinding(e)):(c=void 0,t=void 0),u(t),h()},m=function(e){$.get("/data/"+e,function(e){var t=e.csv,e=Papa.parse(t);l=e.data})},u=function(e){if($("#vizBindingPanel").empty(),e){var t={};t.bindings=e,t.values=l[0],t.handleBinding=p,ReactDOM.render(React.createElement(i,t),document.getElementById("vizBindingPanel"))}},p=function(e){o=e,h()},h=function(){var e=r.buildOption(l,o,c);if(e){echarts.init(document.getElementById("chartPanel")).setOption(e)}};return React.createClass({displayName:"VizPage",render:function(){var i={};return i.height="400px",i.width="100%",React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"},React.createElement(e,{title:"Select Data",id:"SelectDataCollapse"},React.createElement(a,{handleSelection:s})),React.createElement(e,{title:"Select Visualization Type",id:"SelectVizCollapse"},React.createElement(n,{handleSelection:d})),React.createElement(e,{title:"Select Data Binding Option",id:"SelectBindingCollapse"},React.createElement("div",{id:"vizBindingPanel"})))),React.createElement("div",{className:"col-md-8"},React.createElement(t,{id:"VizMain",title:"Visualization"},React.createElement("div",{id:"chartPanel",style:i}))))},componentDidMount:function(){$("#SelectDataCollapse").collapse("show"),$("#SelectVizCollapse").collapse("show"),$("#SelectBindingCollapse").collapse("show")}})}),define("comp/common/tab",[],function(){return React.createClass({displayName:"Tab",render:function(){({}).overflow="auto";var e=this.props.data;return React.createElement("div",{ref:"Tab"},React.createElement("ul",{className:"nav nav-tabs",role:"tablist"},e.map(function(e){var t="#"+e.name;return React.createElement("li",{role:"presentation"},React.createElement("a",{href:t,"aria-controls":e.name,role:"tab","data-toggle":"tab"},e.title))})),React.createElement("div",{className:"tab-content"},e.map(function(e){return React.createElement("div",{role:"tabpanel",className:"tab-pane",id:e.name})})))},componentDidMount:function(){var e=this.refs.Tab;$(e).find("a:first").tab("show")}})}),define("ml/viz/clsviz",[],function(){var e={top:50,right:30,bottom:50,left:50},t=function(t){this._trainData=t.data,this._features=t.features,this._predictData=t.predict,this._predictScale=t.scale,this._rootContainerId=t.containerId,this._width=t.size.width-e.left-e.right,this._height=t.size.height-e.top-e.bottom,this._xScale=d3.scale.linear().range([0,this._width]),this._yScale=d3.scale.linear().range([this._height,0]),this._color=d3.scale.category10(),this._xAxis=d3.svg.axis().scale(this._xScale).orient("bottom"),this._yAxis=d3.svg.axis().scale(this._yScale).orient("left"),this._svg=d3.select("#"+this._rootContainerId).append("svg").attr("width",this._width+e.left+e.right).attr("height",this._height+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")")};return t.prototype.render=function(){var e=this._xScale,t=this._yScale,a=this._color,n=d3.extent(this._trainData,function(e){return e.x}),i=d3.extent(this._trainData,function(e){return e.y});e.domain(n).nice(),t.domain(i).nice(),this._svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(this._height+10)+")").call(this._xAxis).append("text").attr("class","label").attr("x",this._width).attr("y",-6).style("text-anchor","end").text(this._features[0]),this._svg.append("g").attr("class","y axis").attr("transform","translate(-10,0)").call(this._yAxis).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(this._features[1]),this._svg.append("g").attr("class","train").selectAll(".dot").data(this._trainData).enter().append("circle").attr("class","dot").attr("r",3.5).attr("cx",function(t){return e(t.x)}).attr("cy",function(e){return t(e.y)}).style("fill",function(e){return a(e.label)});var r=(e(n[1])-e(n[0]))/this._predictScale,l=(t(i[0])-t(i[1]))/this._predictScale;this._svg.append("g").attr("class","predict").selectAll(".area").data(this._predictData).enter().append("rect").attr("class","area").attr("x",function(t){return e(t.x)}).attr("y",function(e){return t(e.y)}).attr("width",r).attr("height",l).style("fill",function(e){return a(e.label)}).style("fill-opacity",.3);var c=this._svg.selectAll(".legend").data(a.domain()).enter().append("g").attr("class","legend").attr("transform",function(e,t){return"translate("+(100*t-400)+", -30)"});c.append("rect").attr("x",this._width-18).attr("width",18).attr("height",18).style("fill",a),c.append("text").attr("x",this._width-24).attr("y",9).attr("dy",".35em").style("text-anchor","end").text(function(e){return e})},t}),define("ml/manager",[],function(){var e={},t=[{name:"Label",type:"Category",maxFeed:1},{name:"Features",type:"Measure",maxFeed:10}],a=[{name:"Target",type:"Measure",maxFeed:1},{name:"Features",type:"Measure",maxFeed:10}],n=[{name:"Features",type:"Measure",maxFeed:10}];return e.getBinding=function(e){return"Classification"===e?t:"Regression"===e?a:"Cluster"===e?n:void 0},e}),define("comp/ml/mlview",["comp/common/collapse","comp/common/panel","comp/dataselection","comp/bindingpanel","comp/common/tab","ml/viz/clsviz","ml/manager"],function(e,t,a,n,i,r,l){var c=void 0,o=void 0,s=void 0,d=void 0,m=void 0,u=void 0,p=void 0,h=void 0,f=void 0,v=void 0,g=void 0,y=void 0,R=void 0,E=void 0,x=[{name:"viz",title:"Visualization"},{name:"predict",title:"Predict"}],w=function(){s="/ml/"+o+"/create",d="/ml/"+o+"/train",m="/ml/"+o+"/predictViz",u="/ml/"+o+"/predict",p="/mlmodel/list/"+c},b=function(e){$("#SelectBindingCollapse").collapse("show"),$("#mlBindingPanel").empty(),g=e,e?_(e):v=void 0},_=function(e){var t={};t.headerOnly=!0,$.get("/data/"+e,t,function(e){var t=e.csv,e=Papa.parse(t);v=e.data;var a={};a.bindings=l.getBinding(c),a.values=v[0],a.handleBinding=N,ReactDOM.render(React.createElement(n,a),document.getElementById("mlBindingPanel"))})},N=function(e){R=e,$("#TrainCollapse").collapse("show")},z=function(){console.log("strat to train the whole dataset~");var e={};e.type=y,$.get(s,e,function(e){if("Success"===e.result){E=e.model;var t={};t.id=E,t.data=g,h(t,R),$.get(d,t,function(e){"Success"===e.result?(S(),C()):alert("Failed to train the model : "+y)})}else alert("Failed to create the model : "+y)})},S=function(){var e={};e.cols=R.Features.slice(0),ReactDOM.render(React.createElement(M,e),document.getElementById("predict"));var t={};t.id="vizpanel",ReactDOM.render(React.createElement(O,t),document.getElementById("viz"))},C=function(){var e={};e.id=E,e.scale=30,$.get(m,e,function(t){if("Success"===t.result){var a=$.parseJSON(t.predict.replace(/\'/g,'"'));console.log(a);var n={};n.size={},n.size.width=$("#vizpanel").width(),n.size.height=$("#vizpanel").height(),n.features=R.Features,n.containerId="vizpanel",n.data=a.data,n.predict=a.predict,n.scale=e.scale,$("#vizpanel").empty(),f(n,R)}})},D=React.createClass({displayName:"PredictRow",render:function(){var e=this.props.data;return React.createElement("tr",{ref:"predictRow"},e.map(function(e){return"Predict Result"!==e?React.createElement("td",null,React.createElement("input",{placeholder:e})):React.createElement("td",{key:"resultCell"},React.createElement("div",{ref:"resultCell"}))}))},componentDidMount:function(){var e=this.refs.predictRow,t=this.refs.resultCell;$(e).focusout(function(){var e=[],a=!0;if($(this).find("input").each(function(t,n){var i=$(this).val();i.length>0?e.push(parseFloat(i)):a=!1}),a){var n={};n.id=E,n.data=JSON.stringify([e]),$.get(u,n,function(e){if("Success"===e.result){var a=$.parseJSON(e.predict.replace(/\'/g,'"'));$(t).text(a[0])}else alert("failed to predict the result!")})}})}}),M=React.createClass({displayName:"PredictDataTable",render:function(){var e=this.props.cols;return e.push("Predict Result"),React.createElement("table",{id:"predictTable",className:"table"},React.createElement("thead",null,React.createElement("tr",null,e.map(function(e){return React.createElement("th",null,e)}))),React.createElement("tbody",null,React.createElement(D,{data:e})))},componentDidMount:function(){}}),O=React.createClass({displayName:"PredictVizPanel",render:function(){var e={};return e.width="100%",e.height="400px",React.createElement("div",{id:this.props.id,style:e})},componentDidMount:function(){}});return React.createClass({displayName:"MLPage",render:function(){return c=this.props.modelName,o=this.props.modelShortName,h=this.props.buildTrainParameterHandler,f=this.props.renderPredictVizHandler,w(),React.createElement("div",{className:"row"},React.createElement("div",{className:"col-md-4"},React.createElement("div",{className:"panel-group",role:"tablist","aria-multiselectable":"true"},React.createElement(e,{title:"Select Model",id:"SelectModelCollapse"},React.createElement("select",{className:"input-medium",id:"selectModelType"})),React.createElement(e,{title:"Select Data",id:"SelectDataCollapse"},React.createElement(a,{handleSelection:b})),React.createElement(e,{title:"Select Data Binding",id:"SelectBindingCollapse"},React.createElement("div",{id:"mlBindingPanel"})),React.createElement(e,{title:"Train The Model",id:"TrainCollapse"},React.createElement("div",null,React.createElement("button",{className:"btn btn-default btn-xs",onClick:z},"Train"))))),React.createElement("div",{className:"col-md-8"},React.createElement(t,{id:"MLMain",title:"Predict View"},React.createElement(i,{data:x}))))},componentDidMount:function(){$("#SelectModelCollapse").collapse("show"),$.get(p,function(e){var e=$.parseJSON(e),t=$("#selectModelType");t.select2({data:e,tags:"true",width:"256px",placeholder:"Select a model",allowClear:!0}),t.val(null).trigger("change"),t.change(function(){$("#SelectDataCollapse").collapse("show"),y=$(this).val()})})}})}),define("comp/ml/classificationview",["comp/ml/mlview","ml/viz/clsviz"],function(e,t){var a=function(e,t){e.label=t.Label,e.features=t.Features.join()},n=function(e,a){new t(e).render()};return React.createClass({displayName:"ClassificationPage",render:function(){return React.createElement(e,{modelName:"Classification",modelShortName:"cls",buildTrainParameterHandler:a,renderPredictVizHandler:n})},componentDidMount:function(){}})}),define("ml/viz/regressionviz",[],function(){var e={top:50,right:30,bottom:50,left:50},t=function(t){this._trainData=t.data,this._features=t.features,this._target=t.target,this._predictData=t.predict,this._predictScale=t.scale,this._rootContainerId=t.containerId,this._width=t.size.width-e.left-e.right,this._height=t.size.height-e.top-e.bottom,this._xScale=d3.scale.linear().range([0,this._width]),this._yScale=d3.scale.linear().range([this._height,0]),this._color=d3.scale.category10(),this._xAxis=d3.svg.axis().scale(this._xScale).orient("bottom"),this._yAxis=d3.svg.axis().scale(this._yScale).orient("left"),this._svg=d3.select("#"+this._rootContainerId).append("svg").attr("width",this._width+e.left+e.right).attr("height",this._height+e.top+e.bottom).append("g").attr("transform","translate("+e.left+","+e.top+")")};return t.prototype.render=function(){var e=this._xScale,t=this._yScale,a=this._color,n=d3.extent(this._trainData,function(e){return e.x}),i=d3.extent(this._trainData,function(e){return e.y});e.domain(n).nice(),t.domain(i).nice(),this._svg.append("g").attr("class","x axis").attr("transform","translate(0,"+(this._height+10)+")").call(this._xAxis).append("text").attr("class","label").attr("x",this._width).attr("y",-6).style("text-anchor","end").text(this._features[0]),this._svg.append("g").attr("class","y axis").attr("transform","translate(-10,0)").call(this._yAxis).append("text").attr("class","label").attr("transform","rotate(-90)").attr("y",6).attr("dy",".71em").style("text-anchor","end").text(this._target),this._svg.selectAll(".dot").data(this._trainData).enter().append("circle").attr("class","dot").attr("r",3.5).attr("cx",function(t){return e(t.x)}).attr("cy",function(e){return t(e.y)}).style("fill",function(e){return a("data")});var r=(e(n[1]),e(n[0]),this._predictScale,t(i[0]),t(i[1]),this._predictScale,d3.svg.line().x(function(t){return e(t.x)}).y(function(e){return t(e.y)}).interpolate("basis"));this._svg.append("path").attr("d",r(this._predictData)).style("stroke",a("regression")).style("stroke-width",3).style("fill","None")},t}),define("comp/ml/regressionview",["comp/ml/mlview","ml/viz/regressionviz"],function(e,t){var a=function(e,t){e.target=t.Target,e.train=t.Features.join()},n=function(e,a){e.target=a.Target,new t(e).render()};return React.createClass({displayName:"RegressionPage",render:function(){return React.createElement(e,{modelName:"Regression",modelShortName:"regression",buildTrainParameterHandler:a,renderPredictVizHandler:n})},componentDidMount:function(){}})}),define("comp/ml/clusterview",["comp/ml/mlview","ml/viz/clsviz"],function(e,t){var a=function(e,t){e.train=t.Features.join()},n=function(e,a){e.target=a.Target,new t(e).render()};return React.createClass({displayName:"ClusterPage",render:function(){return React.createElement(e,{modelName:"Cluster",modelShortName:"cluster",buildTrainParameterHandler:a,renderPredictVizHandler:n})},componentDidMount:function(){}})}),require(["comp/menubar","comp/mainview","comp/aboutview","comp/dataview","comp/vizview","comp/ml/classificationview","comp/ml/regressionview","comp/ml/clusterview","event/manager"],function(e,t,a,n,i,r,l,c,o){console.log("Nothing happend yet~ ");var s=function(){ReactDOM.render(React.createElement(t,null),document.getElementById("container"))},d=function(){ReactDOM.render(React.createElement(a,null),document.getElementById("container"))};o.register("MenuEvent_About",d);var m=function(){ReactDOM.render(React.createElement(n,null),document.getElementById("container"))};o.register("MenuEvent_Data",m);var u=function(){ReactDOM.render(React.createElement(i,null),document.getElementById("container"))};o.register("MenuEvent_Visualization",u);var p=function(){ReactDOM.render(React.createElement(r,null),document.getElementById("container"))};o.register("MenuEvent_Classification",p);var h=function(){ReactDOM.render(React.createElement(l,null),document.getElementById("container"))};o.register("MenuEvent_Regression",h);var f=function(){ReactDOM.render(React.createElement(c,null),document.getElementById("container"))};o.register("MenuEvent_Cluster",f),$("#home_link").click(function(){s()});var v={name:"Visualization",id:"Visualization",items:[]},g=[v];ReactDOM.render(React.createElement(e,{data:g}),document.getElementById("menubar")),s()}),define("app",function(){});